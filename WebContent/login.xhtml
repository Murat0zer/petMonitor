<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:sec="http://www.springframework.org/security/tags"

      xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title>Hello</title>

    <sec:authorize ifAnyGranted="ROLE_ADMIN, ROLE_OWNER">
        <f:metadata>
            <f:viewAction action="#{userController.redirectUrlIfUserAuthenticated}" />
        </f:metadata>
    </sec:authorize>

</h:head>
<h:body>
        <sec:authorize ifAnyGranted="ROLE_ADMIN, ROLE_OWNER">
        <span style="color: red; ">
			<h:outputLabel value="#{SPRING_SECURITY_LAST_EXCEPTION.message}" rendered="#{sec:areAnyGranted('ROLE_ADMIN, ROLE_OWNER')}"/>
			<h:outputLabel value="#{request.contextPath}" rendered="#{sec:areAnyGranted('ROLE_ADMIN')}"/>
        </span>
        </sec:authorize>


    <form id="login_form" action="#{request.contextPath}/login" method="post">
        <p>
            <label for="j_username" class="login-form-tag">User</label>
            <input id="username" name="username" class="ui-corner-all"/>
        </p>
        <p>
            <label for="j_password" class="login-form-tag">Password</label>
            <input type="password" id="password" name="password"
                   class="ui-corner-all"/>
        </p>
        <p>
            <button
                    class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only">
                <span class="ui-button-text">Login</span>
            </button>
        </p>
    </form>

    <a href="register.xhtml">
        <p>
            <button
                    class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only">

                <span class="ui-button-text">Register</span>
            </button>
        </p>
    </a>

</h:body>
</html> 